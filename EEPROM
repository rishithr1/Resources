Perfect üëç ‚Äî now we‚Äôll go ultra-deep into one of the most important small chips in switches and embedded systems:

EEPROM

You asked:

‚ÄúExplain EEPROM.‚Äù

So I‚Äôll explain completely ‚Äî nothing skipped:
	‚Ä¢	What EEPROM is
	‚Ä¢	Why it exists
	‚Ä¢	Internal working
	‚Ä¢	Memory structure
	‚Ä¢	How data is stored
	‚Ä¢	Interfaces used
	‚Ä¢	Role in switches
	‚Ä¢	Role in ONIE / DiagOS
	‚Ä¢	Manufacturing programming
	‚Ä¢	Failure cases
	‚Ä¢	Debugging methods

‚∏ª

1Ô∏è‚É£ What is EEPROM?

Full Form

EEPROM = Electrically Erasable Programmable Read-Only Memory

‚∏ª

Simple Definition

EEPROM is a small non-volatile memory chip used to permanently store device identity and configuration data.

‚∏ª

Plain English

üëâ EEPROM = Device identity memory.

Even if power is OFF ‚Üí data stays.

‚∏ª

2Ô∏è‚É£ Real-Life Analogy ü™™

EEPROM is like a passport/Aadhaar card for hardware.

Stores:
	‚Ä¢	Name (product)
	‚Ä¢	Serial number
	‚Ä¢	Manufacturer
	‚Ä¢	Unique IDs

Without it ‚Üí device identity unknown.

‚∏ª

3Ô∏è‚É£ Why EEPROM Exists

Switch boards need to store:
	‚Ä¢	Platform identification
	‚Ä¢	MAC address ranges
	‚Ä¢	Serial numbers
	‚Ä¢	Hardware revisions

This data must:

‚úî Persist without power
‚úî Be readable anytime
‚úî Be writable during manufacturing

EEPROM fulfills this.

‚∏ª

4Ô∏è‚É£ Where EEPROM Sits on a Switch

Located on motherboard near:
	‚Ä¢	CPU / COMe module
	‚Ä¢	I¬≤C bus lines

Connected via management bus.

‚∏ª

Example EEPROM Chips

Small chip ‚Äî huge importance.

‚∏ª

5Ô∏è‚É£ EEPROM Internal Architecture

EEPROM contains:
	‚Ä¢	Floating-gate transistors
	‚Ä¢	Memory cells
	‚Ä¢	Address decoders
	‚Ä¢	Control logic

Each cell stores 1 bit using trapped charge.

‚∏ª

6Ô∏è‚É£ How Data is Stored

Floating-gate transistor principle:

Charge trapped ‚Üí 1
No charge ‚Üí 0

Charge remains even without power.

Hence non-volatile memory.

‚∏ª

7Ô∏è‚É£ EEPROM vs RAM vs Flash

Feature	EEPROM	RAM	Flash
Volatile	‚ùå	‚úÖ	‚ùå
Size	Small	Large	Large
Speed	Slow	Fast	Medium
Usage	Identity data	Runtime data	Firmware/OS

EEPROM is for metadata, not OS storage.

‚∏ª

8Ô∏è‚É£ EEPROM Capacity

Typical sizes:

Size	Usage
2 KB	Basic ID
8 KB	Platform info
64 KB	Extended data

Very small compared to SSD.

‚∏ª

9Ô∏è‚É£ Communication Interface

EEPROM accessed via:
	‚Ä¢	I¬≤C (most common)
	‚Ä¢	SPI (less common)

Switch CPUs read EEPROM via I¬≤C drivers.

‚∏ª

üîü EEPROM Addressing

Each EEPROM has I¬≤C address.

Example:

0x50
0x51

Commands:

i2cdetect
i2cdump
i2cget

Used in DiagOS/Linux.

‚∏ª

1Ô∏è‚É£1Ô∏è‚É£ Data Stored in Switch EEPROM

Typical structure:

Field	Purpose
Vendor name	Manufacturer
Product name	Platform
Serial number	Unique ID
MAC base	Network identity
Manufacture date	Tracking
Hardware revision	Board version

Stored in structured layout.

‚∏ª

1Ô∏è‚É£2Ô∏è‚É£ EEPROM Data Format

Often stored as TLV:

T = Type
L = Length
V = Value

Example:

Type: Serial
Length: 12
Value: ABC123456789

Parsed by ONIE/NOS.

‚∏ª

1Ô∏è‚É£3Ô∏è‚É£ Role in Boot Process

EEPROM read early in boot:

Kernel loads I¬≤C driver
      ‚Üì
Reads EEPROM
      ‚Üì
Identifies platform
      ‚Üì
Loads correct drivers

Without EEPROM ‚Üí wrong OS/driver load.

‚∏ª

1Ô∏è‚É£4Ô∏è‚É£ Role in ONIE

ONIE uses EEPROM to:
	‚Ä¢	Detect switch model
	‚Ä¢	Select compatible NOS
	‚Ä¢	Validate platform support

Critical for OS installation.

‚∏ª

1Ô∏è‚É£5Ô∏è‚É£ Role in DiagOS

DiagOS tests EEPROM by:
	‚Ä¢	Reading data
	‚Ä¢	Verifying checksum
	‚Ä¢	Validating MAC ranges
	‚Ä¢	Checking corruption

Failure ‚Üí manufacturing reject.

‚∏ª

1Ô∏è‚É£6Ô∏è‚É£ EEPROM in Optics (SFP/QSFP)

Even pluggable optics contain EEPROM.

Stores:
	‚Ä¢	Vendor
	‚Ä¢	Wavelength
	‚Ä¢	TX/RX power
	‚Ä¢	Temperature

Switch reads via I¬≤C.

‚∏ª

1Ô∏è‚É£7Ô∏è‚É£ Manufacturing Programming

During factory assembly:

Write platform info
Write serial number
Write MAC base
Write vendor data
Verify checksum
Lock fields

Done using EEPROM programmers.

‚∏ª

1Ô∏è‚É£8Ô∏è‚É£ EEPROM Security Role

Helps:
	‚Ä¢	Prevent counterfeit hardware
	‚Ä¢	Validate authenticity
	‚Ä¢	Enforce NOS compatibility

‚∏ª

1Ô∏è‚É£9Ô∏è‚É£ EEPROM Failure Cases

Failure	Impact
Corruption	Wrong platform detect
Blank EEPROM	Boot issues
I¬≤C failure	Unreadable data
Wrong MAC base	Network conflicts

DiagOS flags these.

‚∏ª

2Ô∏è‚É£0Ô∏è‚É£ Debugging EEPROM

Engineers use:

i2cdetect -y 0
i2cdump -y 0 0x50
hexdump eeprom.bin

To inspect raw data.

‚∏ª

2Ô∏è‚É£1Ô∏è‚É£ EEPROM vs Flash Firmware

Feature	EEPROM	Flash
Stores ID	‚úÖ	‚ùå
Stores OS	‚ùå	‚úÖ
Size	Small	Large

Flash stores ONIE/NOS, EEPROM stores identity.

‚∏ª

2Ô∏è‚É£2Ô∏è‚É£ Office-Ready Explanation

Beginner:

‚ÄúEEPROM stores switch identity.‚Äù

Expert:

‚ÄúSystem EEPROM is a non-volatile I¬≤C-accessible memory storing platform identification, MAC allocation, and manufacturing metadata required for boot-time platform discovery.‚Äù

‚∏ª

üß† Memory Shortcut

EEPROM = Identity memory
Small + Permanent
Read via I¬≤C
Used by ONIE & DiagOS


‚∏ª

How EEPROM Fits in Switch Boot

Power ON
   ‚Üì
Kernel loads I¬≤C driver
   ‚Üì
Reads EEPROM
   ‚Üì
Identifies platform
   ‚Üì
Loads correct OS/drivers

EEPROM enables platform awareness.

‚∏ª

If you want next deep dives:
	‚Ä¢	EEPROM TLV decoding
	‚Ä¢	Writing EEPROM via Linux
	‚Ä¢	SFP EEPROM map
	‚Ä¢	I¬≤C bus electrical design
	‚Ä¢	EEPROM redundancy designs

Just tell üëç
